<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    

  <div id="game">
      
    <button id="startButton" type="button"><span id="button=text">Click To Start Hangman!</span></button>
    
    <h1> <span id="game-message"><strong></strong></span></h1>
      
    <p id="blanks"></p>
    <p id="guessed-letters"></p>
    <p id ="score"></p>
     
  </div>

  <script type="text/javascript">
    var buttonText = document.getElementById("button=text");
    var gameMessage = document.getElementById("game-message");    
    var blanks = document.getElementById("blanks");
    var guessedLetters = document.getElementById("guessed-letters");
    var score =document.getElementById("score")
    
    var previousGuesses =[];
    var blanksArray = [];
    var lettersArray = [];
   
    
    
    // sets word bank and has computer select a random word
    var wordBank = ["about", "above", "after", "again", "apple", "began", "begin", "black", "block", "bring", "brook", "brown", "build", "carry", "chair", "color", "could", "dance", "drink", "empty", "found", "funny", "green", "guess", "happy", "hello", "horse", "hurry", "large", "laugh", "learn", "maybe", "never", "paint", "penny", "store", "thank", "their", "train", "truck", "under", "where", "which", "white", "would", "across", "afraid", "always", "animal", "answer", "anyone", "around", "basket", "before", "behind", "belong", "beside", "better", "bitter", "bottle", "bottom", "bought", "bounce", "branch", "bridge", "button", "candle", "cannot", "caught", "cellar", "chance", "cowboy", "doctor", "dragon", "father", "friend", "kitten", "little", "mother", "peanut", "please", "pocket", "rabbit", "rocket", "school", "should", "sister", "street", "turtle", "window", "yellow", "address", "against", "already", "another", "anxious", "balcony", "balloon", "battery", "because", "bedroom", "believe", "beneath", "between", "bicycle", "blossom", "blanket", "brother", "careful", "chicken", "country", "cupcake", "evening", "excited", "feather", "herself", "himself", "instead", "kitchen", "morning", "outside", "nothing", "picture", "raccoon", "snowman", "someone", "stopped", "thought", "through", "tonight", "tractor", "traffic", "trouble", "unhappy", "whisper", "whistle", "without", "accident", "airplane", "although", "anything", "anywhere", "backward", "barnyard", "baseball", "birthday", "business", "cheerful", "complain", "complete", "continue", "customer", "darkness", "daughter", "daydream", "discover", "distance", "doorbell", "electric", "election", "elephant", "elevator", "enormous", "everyone", "favorite", "football", "fountain", "friendly", "frighten", "goodness", "handsome", "lemonade", "mountain", "neighbor", "remember", "sidewalk", "sometime", "squirrel", "surprise", "together", "tomorrow'", "yourself"];

    
    
    document.getElementById("startButton").onclick = function (event){

        
        document.getElementById("startButton").style.visibility='hidden';
        
        var answer = wordBank[Math.floor(Math.random()*wordBank.length)];
        
        gameMessage.textContent = ("There are " + answer.length + " letters in the word. Please guess a letter." );
        guessedLetters.textContent =("Guessed Letters: ")
        score.textContent = ("Score: ")

        function setBlanks(){
            for (i=0; i<answer.length; i++){
                blanksArray.push("_");
            }
        }
        
        setBlanks();
        
        blanks.textContent =(blanksArray.join(' '))

        function setLetters(){
            for (i=0; i<answer.length; i++){
                lettersArray.push(answer.charAt(i));
            }
        }
      
        setLetters();

        console.log(answer)
        console.log(answer.length)
        console.log(blanksArray)
        console.log(lettersArray)

        document.onkeyup = function(event) {
            var userGuess = event.key;


        
            // this function is half working...it only pushes the user guess into the array if it
            // is not a duplicate like its supposed to, but the problem is that it does not display 
            // the message when userguess IS a duplicate. which means there must be an issue with the formula 
            // in the "if" statement.  
            
            function duplicate(){
                if (previousGuesses.indexOf(userGuess) !== -1) {
                    gameMessage.textContent = ("You have Already guessed \"" + userGuess + "\".")
                }   
                else {
                    previousGuesses.push(userGuess);
                }
            }
                
            duplicate();
            
            function compare(){
                var correctGuess = false;
                for (i=0; i<answer.length; i++){
                    if (userGuess == answer[i]){
                        correctGuess = true;
                        blanksArray[i] = answer[i];  
                        blanks.textContent =(blanksArray.join(' '));   
                    }    
                }       
                if (correctGuess == true){         
                    gameMessage.textContent = ("Good Guess! Keep Going!");
                }
                
                else {
                    gameMessage.textContent = ("Oops, try again!"); 
                }
            } 
        
            compare();
        
            console.log(blanksArray);
            
            guessedLetters.textContent = ("Guessed Letters: " + previousGuesses.join(" "));
        }
 
    }

  



    
  </script>

</body>

</html>
